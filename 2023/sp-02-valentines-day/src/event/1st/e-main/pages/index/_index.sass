// ==========================================================================
// Plugins
// ==========================================================================
// // @import vendors/animate
// @import vendors/style/swiper-slider-custom
@import vendors/style/swiper-safari-polyfill

// ==========================================================================
// first screen need
// ==========================================================================
// hero section
// @import utils/bg-decoration-instance/parallax/_parallax
@import event/1st/e-main/components/hero-section/_hero-section

// @import utils/bg-decoration-instance/css-firework-2/_css-firework-2

// ==========================================================================
// components
// ==========================================================================
// dynamic product 假宮格共用CSS
@import layout/dynamic-product/_dynamic-product.sass

// 一般components
@import event/1st/e-main/components/promo-event/_promo-event
// @import event/1st/e-main/components/daily-slider/_daily-slider
// @import event/1st/e-main/components/slider-w1m1/_slider-w1m1
@import event/1st/e-main/components/event-w3m3/_event-w3m3
@import event/1st/e-main/components/tab-section/_tab-section
@import event/1st/e-main/components/dynamic-slider/_dynamic-slider
// @import event/1st/e-main/components/promo-slider/_promo-slider
@import event/1st/e-main/components/bn-section/_bn-section
// @import event/1st/e-main/components/dynamic-slider-half/_dynamic-slider-half
@import event/1st/e-main/components/slider-w3m3/_slider-w3m3
@import event/1st/e-main/components/dynamic-slider-w3m3/_dynamic-slider-w3m3
@import event/1st/e-main/components/daily-time/_daily-time
@import event/1st/e-main/components/bn-section-2/_bn-section-2
@import event/1st/e-main/components/bn-slider/_bn-slider
@import event/1st/e-main/components/promo-special/_promo-special


// ==========================================================================
// Page
// ==========================================================================
body
  +pos-set(relative)
  background-color: $main-e-background-color-1st
  overflow-x: hidden
  // height: 1000vh

  .decor__bg
    +pos-set(fixed, under, 0%, 0%)
    +bg-set(url(event/1st/e-main/pages/index/bg.jpg), 100%)
    // animation: blur-in 1s cubic-bezier(0.550, 0.085, 0.680, 0.530) both
    +breakpoint-min($min-width-xl)
      +pos-set(fixed, under, 0%, 0%)
      +bg-set(url(event/1st/e-main/pages/index/bg-web.jpg), auto)
      // background-position: center 

  .decor__fish
    +pos-set(absolute, zero, 2.2%, 0%)
    display: none
    width: 100%
    text-align: center
    +breakpoint-min($min-width-xl)
      display: block
    img
      width: auto

.decor__lanterns
  +pos-set(absolute, zero, 0%, 0%)
  display: none
  width: 100%
  transform: translateY(-600px)
  filter: brightness(85%)
  +breakpoint-min($min-width-xl)
    display: block
  .js-loading &
    // animation: lantern-in 1.4s cubic-bezier(.45,.13,.75,.98) forwards, flicker-light 3.2s 1s ease-in-out infinite alternate
    // animation: lantern-in .4s ease-out forwards, flicker-light 3.2s .4s ease-in-out infinite alternate
    animation: lantern-in 1s linear forwards, flicker-light 3s 1s ease-in-out infinite alternate

  img
    +pos-set(absolute, zero)
    animation: floating 3s 1s ease-in-out 1 forwards
    &:first-child
      top: -80px
      left: calc(50% - 900px)

    &:nth-child(2)
      top: -376px
      left: calc(50% - 716px)

    &:nth-child(3)
      top: -250px
      right: calc(50% - 684px)

    &:last-child
      top: -275px
      right: calc(50% - 915px)

// TODO: 修改EU nav佔位高度(影響logo距離上方高度，U每次要改)
.navRightBar
  height: 39px
  +breakpoint-min($min-width-xl)
    height: auto

.decoration--top,
.decor--top
  +pos-set(absolute)
  pointer-events: none
  +breakpoint-min($min-width-xl)
    width: auto

section:not(.note)
  // 有parallax scroll時圖層有relative就有預設z-index可能會遮到宮格，因此使用這個讓宮格也能有預設z-index
  +pos-set(relative)
  a
    display: block

@keyframes blur-in
  0%
    filter: blur(12px)
  100%
    filter: blur(0)

@keyframes floating
  0%
    transform: translateY(0)
  45%
    transform: translateY(6%)
  55%
    transform: translateY(6%)
  100%
    transform: translateY(0)

@keyframes lantern-in
  0%
    transform: translateY(-600px)
  100%
    transform: translateY(0)

@keyframes flicker-light
  0%, 100%
    filter: brightness(85%)
  20% 
    filter: brightness(110%)
  30%, 42%
    filter: brightness(95%)
  36% 
    filter: brightness(100%)
  48% 
    filter: brightness(115%)
  75% 
    filter: brightness(100%)