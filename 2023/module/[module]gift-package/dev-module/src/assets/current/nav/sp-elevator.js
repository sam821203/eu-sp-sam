$(function(){var v=[];var c=[];var f=[];var d=[];var p=[];$("body").addClass("safe-area-padding-bottom");$("head").append('<meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">');var u=/\S+\.(jpg|png|gif)\b/i;function a(){$("body").append('<div class="footer__box" id="footerBox"></div>');var t="";t+='<ul class="footer__ul">';for(var l=0,a=iconName.length;l<a;l++){var i=a,n=iconName[l].words.length,e=iconName[l].imageUrl;r();t+='<a href="'+iconName[l].linkUrl+'">';s();o();t+="</a></li>"}t+="</ul>";$("#footerBox").html(t);function r(){if(iconPosition=="top"&&i>=3||i>=4){t+='<li class="footer__list">'}else if(iconPosition=="left"){t+='<li class="footer__list inline__style">'}else{t+='<li class="footer__list inline__style">'}}function s(){if(iconName[l].imageUrl.match(u)!=null){t+='<img src="'+iconName[l].imageUrl+'" alt="">'}}function o(){var a=4;var e=iconName[l].imageUrl.length;if(i==2&&n>a+4&&e==0){t+="<p>"+iconName[l].words.substr(0,a+4)+"</p>"}else if(i==2&&n>a+2&&e>0){t+="<p>"+iconName[l].words.substr(0,a+2)+"</p>"}else if(i==3&&n>a+2){t+="<p>"+iconName[l].words.substr(0,a+2)+"</p>"}else if(i>=4&&n>a){t+="<p>"+iconName[l].words.substr(0,a)+"</p>"}else{t+="<p>"+iconName[l].words+"</p>"}}}function e(){var a=$("#footerBox").find("li").length;var e=100/a-2+"%";if(a<=5){$("#footerBox li").css("width",e)}else{console.error("超過可設定數量！")}}var _=false;var o=true;var t=document.getElementById("dataElevatorLeft");if(t&&window.innerWidth<1213){_=true;a();e()}if(window.notRightElevator)o=false;if(!_&&!o)return false;var l=$(window),m=$(document),n=$("html, body");var h=$(document).width();var r=$("#elevatorHome");var s=$("#spFixedNav");var g=1212;var w=function(a){a.on("click",function(a){a.preventDefault();n.animate({scrollTop:0},300)})};function k(){var a=$("#spWrap");var e=a.find(".sp--frame");var t='<a class="logo__sp" href="//www.etmall.com.tw/" target="_blank"></a>';e.append(t)}function y(){var a=$("#spWrap");var e=a.find(".sp--frame");var t='<div id="spSnowFall" class="sp-snow__wrap"></div>';e.append(t)}function b(){v.forEach(function(a,e){a.linkUrl+="?linkNameEv"+(e+1)+"linkName"});f.forEach(function(a,e){var t="%3FlinkNameEv"+(e+1)+"linkName";var l="";var i=a.linkUrl.match("app.html");if(i){l=a.linkUrl.replace("app.html","app.html"+t);a.linkUrl=l}else{}});d.forEach(function(a,e){a.linkUrl+="?linkNameEv"+(e+20)+"linkName"});p.forEach(function(a,e){var t="%3FlinkNameEv"+(e+20)+"linkName";var l="";var i=a.linkUrl.match("app.html");if(i){l=a.linkUrl.replace("app.html","app.html"+t);a.linkUrl=l}})}b();var N=window.location;var U=N.href;var x=U.split("linkName")[1];function E(){if(!_)return false;var a=$("#elevatorHome");function l(a,t){var l="";l+='<nav id="spFixedNav" class="sp-fixed__nav">';l+='<ul class="sp-nav_ul js-nav_ul">';l+='<li class="sp-nav__home"><a href="'+a[0].linkUrl+'" title="回主會場" target="'+a[0].target+'">回主會場</a></li>';for(var i=1,e=a.length;i<e;i++){var n=a[i].linkUrl.split("linkName")[1];if(x===n&&n!=undefined){l+='<li class="sp-nav__'+i+' js-sp__nav__all sp-nav_g1"><a href="'+a[i].linkUrl+'" title="'+a[i].words+'"  target="'+a[i].target+'" class="active">'+a[i].words+"</a></li>"}else{l+='<li class="sp-nav__'+i+' js-sp__nav__all sp-nav_g1"><a href="'+a[i].linkUrl+'" title="'+a[i].words+'" target="'+a[i].target+'">'+a[i].words+"</a></li>"}}l+='<li class="sp-nav__home_2"><a href="">精選品類</a></li>';for(var i=0,r=t.length;i<r;i++){if(i%2===0){var s=t[i].linkUrl.split("linkName")[1];var o=t[i+1].linkUrl.split("linkName")[1];l+='<li class="sp-nav__2'+i+' js-sp__nav__all sp-nav_g2">';v();l+="</li>"}}l+='<li class="sp-nav__bottom"></li>';l+="</ul>";l+="</nav>";f();function v(){var a=t[i];var e=t[i+1];if(x===s&&s!=undefined){l+=c(a,true);l+=c(e,false)}else if(x===o&&o!=undefined){l+=c(a,false);l+=c(e,true)}else{l+=c(a,false);l+=c(e,false)}}function c(a,e){if(e){return'<a href="'+a.linkUrl+'" title="'+a.words+'" target="'+a.target+'" class="nav_bg2 active">'+a.words+"</a>"}else{return'<a href="'+a.linkUrl+'" title="'+a.words+'" target="'+a.target+'" class="nav_bg2">'+a.words+"</a>"}}function f(){var a=$("#elevatorHome");var e=$("body");if(a){a.html(l)}else{e.html(l)}}}function n(l){var n="";function a(){n+='<nav id="spFixedNav" class="sp-fixed__nav">';n+='<ul class="sp-nav_ul js-nav_ul sp-nav_ul-1">';for(var a=0,e=l.length;a<e;a++){var t=l[a].linkUrl.split("linkName")[1];if(x===t&&t!=undefined){n+='<li class="sp-nav__2'+a+' js-sp__nav__all sp-nav_g1 active">                                <a href="'+l[a].linkUrl+'" title="'+l[a].words+'" target="'+l[a].target+'" class="nav_bg2">'+l[a].words+"</a>                                </li>"}else{n+='<li class="sp-nav__2'+a+' js-sp__nav__all sp-nav_g1">                                <a href="'+l[a].linkUrl+'" title="'+l[a].words+'" target="'+l[a].target+'" class="nav_bg2">'+l[a].words+"</a>                                </li>"}}n+="</ul>";n+="</nav>"}a();r();function e(){var a=l[i];var e=l[i+1];if(x===getSearch2&&getSearch2!=undefined){n+=t(a,true);n+=t(e,false)}else if(x===getSearch3&&getSearch3!=undefined){n+=t(a,false);n+=t(e,true)}else{n+=t(a,false);n+=t(e,false)}}function t(a,e){if(e){return'<a href="'+a.linkUrl+'" title="'+a.words+'" target="'+a.target+'" class="nav_bg2 active">'+a.words+"</a>"}else{return'<a href="'+a.linkUrl+'" title="'+a.words+'" target="'+a.target+'" class="nav_bg2">'+a.words+"</a>"}}function r(){var a=$("#elevatorHome");var e=$("body");if(a){a.html(n)}else{e.html(n)}}}function r(r){var s="";function a(){s+='<nav id="spFixedNav" class="sp-fixed__nav">';s+='<ul class="sp-nav_ul js-nav_ul sp-nav_ul-1">';var a=window.location;var e=a.href;var t=e.split("linkName")[1];for(var l=1,i=r.length;l<i;l++){var n=r[l].linkUrl.split("linkName")[1];if(t===n&&n!=undefined){s+='<li class="sp-nav__'+l+' js-sp__nav__all sp-nav_g1 active"><a href="'+r[l].linkUrl+'" title="'+r[l].words+'"  target="'+r[l].target+'">'+r[l].words+"</a></li>"}else{s+='<li class="sp-nav__'+l+' js-sp__nav__all sp-nav_g1"><a href="'+r[l].linkUrl+'" title="'+r[l].words+'" target="'+r[l].target+'">'+r[l].words+"</a></li>"}}s+="</ul>";s+="</ul>";s+="</nav>"}a();e();function e(){var a=$("#elevatorHome_2");var e=$("body");if(a){a.html(s)}else{e.html(s)}}}function e(){var a=/(WebView|(iPhone|iPod|iPad)(?!.*Safari\/)(?!.*Line\/)|Android.*(wv|.0.0.0))(?!.*Line\/)/gi.test(navigator.userAgent);if(a){n(p);r(f)}else{t();$(window).on("resize",t)}}function t(){var a=$(document).width();var e=$("#elevatorHome");var t=$("#spFixedNav");if(a>g){l(v,d);s()}else{n(d);r(c)}}function s(){m.on("scroll",function(){var a=$("#spFixedNav");function e(){if(m.scrollTop()>=300){a.css({"pointer-events":""})}else{}}var t=$(document).width();if(t>g){e()}})}e();var o=true;$(window).resize(function(){h=$(document).width();if(h>g&&o){e();$("#elevatorHome").css("display","block");$("#elevatorHome_2").css("display","none");o=false}else if(h<=g){$("#elevatorHome").css("display","none");o=true}})}E();function j(){if(!o)return false;var a=Array.apply(null,document.querySelectorAll("[data-title]"));var l="";var i=[];var e=$("#navRightBar");l+='<nav id="spRightNav" class="sp-right__nav">';l+='<ul class="sp-nav-right_ul" id="spNavRightUl">';l+='<li class="sp-bav_top_img"></li>';a.forEach(function(a){var e=a.getAttribute("data-title");var t=e.indexOf("stop")==-1;if(e&&t){l+=' <li class="sp-nav_right"><a href="#'+e+'">'+e+"</a></li>";i.push(e)}else if(!t){l+=' <li class="sp-nav_right" style="width: 0; min-width: 0;"></li>';i.push(e)}});l+='<li class="sp-nav-right__top" id="navTop"><a href="" title="TOP">TOP</a></li>';l+='<li class="sp-nav-right__mobile__click" id="clickMenu"></li>';l+="</ul>";l+="</nav>";var t=$("#navRightBar");var n=$("body");if(t){t.html(l)}else{n.html(l)}var r=i.filter(function(a){return a&&a.trim()});if(r.length==0){document.getElementById("navRightBar").style.display="none"}var s=e.find("#navTop");w(s)}j();$(".js-sp__nav__all > a").click(function(){$(".js-sp__nav__all a").removeClass("active");$(this).addClass("active")});var h=$(document).width();if($(".active").length){var C=$(".active").offset().left-h/2}$(".js-nav_ul").stop().animate({scrollLeft:C});function T(t){var a=Array.apply(null,document.querySelectorAll("[data-title]"));var l=[];var e=Array.apply(null,document.querySelectorAll("#spNavRightUl a"));var i=document.documentElement.scrollTop||document.body.scrollTop;var n=document.querySelector(".sp-right__nav").offsetHeight+2||41;var t=$(document).width();var r=0;a.forEach(function(a){var e=a.getAttribute("data-title");var t=e.indexOf("stop")==-1;if(e&&t){l.push(a)}});l.forEach(function(a,e){if(t>g&&i-a.offsetTop>=0){r=e}else if(t<=g&&i-a.offsetTop+n>=0){r=e}});if(r===-1)return;e.forEach(function(a){a.classList.remove("active")});e[r].classList.add("active");var s=$("#spRightNav li").width()||90;if($(".active").length){var o=s*r-t/3;$("#spNavRightUl").stop().animate({scrollLeft:o})}}$.debounce=function(l,i,n){var r;return function(){var a=this,e=arguments;later=function(){r=null;if(!n)l.apply(a,e)};var t=n&&!r;clearTimeout(r);r=setTimeout(later,i);if(t)l.apply(a,e)}};$.throttle=function(e,t){var l,i,n,r,s,o;var v=$.debounce(function(){s=r=false},t);return function(){l=this,i=arguments;var a=function(){n=null;if(s)e.apply(l,i);v()};if(!n)n=setTimeout(a,t);if(r){s=true}else{o=e.apply(l,i)}v();r=true;return o}};var B=$.throttle(function(a){T(h)},200);window.addEventListener("scroll",B);$(document).on("click","#spNavRightUl .sp-nav_right a",function(a){var e=$(this).parent().siblings("#clickMenu");var t=e.parent();var l=t.hasClass("click--active");var i=$(".sp-nav-right__mobile__click");var n=$("body");H(e,i,t,n);var r=$(document).width();var s=$(this).attr("href").substr(1);var o=$('[data-title="'+s+'"]');var v=o.offset().top;if(r>g){$("html, body").animate({scrollTop:v-10})}else{$("html, body").animate({scrollTop:v-$("#spRightNav").height()})}return false});function R(a){a.preventDefault();var e=$(this);var t=$("body");var l=$(this).attr("data-dialog");var i=$(".js--main--dialog");var n=$(".js-ElevatorBtn-m");$(".overlay-mask").remove();i.fadeOut(200).removeClass("overlay-open");s("","","","");n.removeClass("footer__fixed-active");o();$(this).addClass("footer__fixed-active");function r(){i.each(function(){if(l==$(this).attr("id")){$(this).fadeIn(200).addClass("overlay-open")}})}function s(a,e,t,l){$(".sp__visual").css("z-index",a);$("html, body").css({"overflow-y":l,top:t,right:t,left:t,bottom:t,position:e})}function o(){t.prepend('<div id="overlay-mask" class="overlay-mask"></div>');r();s("","fixed","0","scroll")}}function S(a){a.preventDefault();var e=$(this);var t=$("body");var l=$(".js--main--dialog");var i=$(".js-ElevatorBtn-m");e.remove();l.fadeOut(200).removeClass("overlay-open");n("","","","");i.removeClass("footer__fixed-active");function n(a,e,t,l){$(".sp__visual").css("z-index",a);$("html, body").css({"overflow-y":l,top:t,right:t,left:t,bottom:t,position:e})}}$(document).on("click",".js-ElevatorBtn-m",R);$(document).on("click","#overlay-mask",S);$(document).on("click","#clickMenu",function(){var a=$(this);var e=a.parent();var t=e.hasClass("click--active");var l=$(".sp-nav-right__mobile__click");var i=$("body");if(t==false){A(a,l,e,i)}else{H(a,l,e,i)}});function A(a,e,t,l){l.css("padding-top","39px");e.addClass("btn--active");t.addClass("click--active close");a.addClass("close");t.parents(".navRightBar").addClass("add--fixed")}function H(a,e,t,l){l.css("padding-top","");e.removeClass("btn--active");t.removeClass("click--active");a.removeClass("close");t.parents(".navRightBar").removeClass("add--fixed")}});