// // ==========================================================================
// // Plugins
// // ==========================================================================
 // @import "vendors/animate"
// @import "~vendors/style/swiper-slider-custom"
@import '~vendors/style/swiper-safari-polyfill'

// // ==========================================================================
// // 2nd screen need
// // ==========================================================================
//@import "utils/bg-decoration-instance/css-firework/_css-firework"
// hero section
// ===========================
@import "~event/2nd/e-main/components/hero-section/_hero-section"

// // ==========================================================================
// // components
// // ==========================================================================
@import "~event/2nd/e-main/components/daily-change/_daily-change"
@import "~event/2nd/e-main/components/promo-event/_promo-event"
@import "~event/2nd/e-main/components/bn-special/_bn-special"
@import "~event/2nd/e-main/components/daily-change-2/_daily-change-2"
@import "~event/2nd/e-main/components/one-item-slider/_one-item-slider"
@import "~event/2nd/e-main/components/game-section/_game-section"
@import "~event/2nd/e-main/components/event-w4m4/_event-w4m4"
@import "~event/2nd/e-main/components/dynamic-slider/_dynamic-slider"
@import "~event/2nd/e-main/components/collect__point/_collect__point"
@import "~event/2nd/e-main/components/dynamic-slider-2/_dynamic-slider-2"
@import "~event/2nd/e-main/components/daily-limitTime-change/_daily-limitTime-change"
@import "~event/2nd/e-main/components/two-daily-change/_two-daily-change"
@import "~event/2nd/e-main/components/dynamic-slider-half/_dynamic-slider-half"
@import "~event/2nd/e-main/components/event-w9m9/_event-w9m9"
@import "~event/2nd/e-main/components/bn-bank/_bn-bank"
@import "~event/2nd/e-main/components/deco-scroll-effect/_deco-scroll-effect"


// // ==========================================================================
// // Page
// // ==========================================================================
body
  +pos-set(relative)
  background-color: $main-e-background-color-2nd

  +breakpoint-min($min-width-xl)
    background: $main-e-background-color-2nd center 0 url("~event/2nd/e-main/pages/index/bg-web.jpg") no-repeat
    background-size: 2560px 1883px
    height: 1883px

.sp__wrap
  +pos-set(relative)
  background: $main-e-background-color-2nd center 0 url("~event/2nd/e-main/pages/index/bg.jpg") no-repeat
  background-size: 100% auto
  +breakpoint-min($min-width-xl)
    background: center 0 url("~event/2nd/e-main/pages/index/bg.jpg") no-repeat
    background-size: 960px auto
    //.decoration--foreground
    //  +pos-set(absolute, zero)
    //  top: 6.9%
    //  left: 0
    //  width: 100%
    //  height: 100%
    //  background: center 0 url("~event/2nd/e-main/pages/index/bg-decoration-web.png") no-repeat,
    //.promo__group
    //  +pos-set(relative, base)

.sp__wrap a
  display: block
  .promo__title
    text-align: center

a.logo
  width: 12%
  top: 0
  left: 1%
  //display: none
  +breakpoint-min($min-width-xl)
    left: calc(50% - 550px)
    top: -10px
    display: block
.bg__relative
  position: relative
// parallax css
// =================================
// .decoration--background
//   display: none

//   +breakpoint-min($min-width-3xl)
//     display: block
//     // z-index: base(1)以上可蓋在主視覺上，zero(0)可在主視覺下，預設都在logo下(logo是500)
//     +pos-set(absolute, under, 690px)
//     width: 100%
//     height: 100%
//     pointer-events: none

// .decoration__wrap
//   +pos-set(sticky, zero, 0)

.parallax__background
  display: none
  &.active
    display: block
.scroll--flower
  display: none
  +breakpoint-min($min-width-xl)
    display: block
    pointer-events: none
    will-change: scroll-position
    +pos-set(fixed, zero)
    img
      margin-left: 0
      margin-right: 0
      will-change: scroll-position
    &.flower__left
      top: 10%
      left: -40px
      transform-origin: top left
      animation: key-wind-rotate-3 15s 5s infinite ease-in-out
      img
        transform: scale(0.55)
        transform-origin: top left
      //+bg-set(url("~assets/img/scroll__sakura__left.png"), 100% auto)
      //width: 604px
      //height: 1268px
    &.flower__right
      top: 20%
      right: -40px
      transform-origin: top right
      animation: key-wind-rotate-3 15s 5s infinite ease-in-out
      img
        transform: scale(0.55)
        transform-origin: top right
      //+bg-set(url("~assets/img/scroll__sakura__right.png"), 100% auto)
      //width: 735px
      //height: 747px

  +breakpoint-min($min-width-4xl)
    &.flower__left
      img
        transform: scale(0.7)
    &.flower__right
      img
        transform: scale(0.7)

.more__scrollY__none
  display: none
#canvas
  position: fixed
  filter: blur(4px)
  width: 100vw
  height: 100vh
  pointer-events: none
  z-index: 3

// Quantity should be the same in PUG
$quantity: 15

//html, body
//  height: 100%
//
//body
//  background: url(https://i.pinimg.com/originals/44/6e/3b/446e3b79395a287ca32f7977dd83b290.jpg)
//  background-size: cover
//.fireflies__wrap
//  position: relative
//  width: 100vw
//  height: 100vh
//  top: 0
//  left: 50%
//  transform: translateX(-50%)
.firefly
  position: fixed
  left: 50%
  top: 50%
  width: 5vw
  height: 5vw
  margin: -0.2vw 0 0 9.8vw
  animation: ease 200s alternate infinite
  pointer-events: none
  z-index: 2
  filter: blur(4px)
  +breakpoint-min($min-width-xl)
    width: 40px
    height: 40px

  &::before,
  &::after
    content: ''
    position: absolute
    width: 100%
    height: 100%
    border-radius: 50%
    transform-origin: -10vw

  &::before
    background: rgba(255,255,255,0.1)
    opacity: 0.4
    animation: drift ease alternate infinite

  &::after
    background: rgba(255,255,255,0.5)
    opacity: 0
    box-shadow: 0 0 0vw 0vw #fff
    animation: drift ease alternate infinite, flash ease infinite


// Randomize Fireflies Motion
@for $i from 1 through $quantity

  $steps: random(12) + 16
  $rotationSpeed: random(10) + 8s

  .firefly:nth-child(#{$i})
    animation-name: move#{$i}

    &::before
      animation-duration: #{$rotationSpeed}

    &::after
      animation-duration: #{$rotationSpeed}, random(6000) + 5000ms
      animation-delay: 0ms, random(8000) + 500ms

  @keyframes move#{$i}
    @for $step from 0 through $steps
      #{$step * (100 / $steps)}%
        transform: translateX(random(100) - 50vw) translateY(random(100) - 50vh) scale(random(75) / 100 + .25)

@keyframes drift
  0%
    transform: rotate(0deg)
  100%
    transform: rotate(360deg)

@keyframes flash
  0%, 30%, 100%
    opacity: 0
    box-shadow: 0 0 0vw 0vw #fff
  5%
    opacity: 1
    box-shadow: 0 0 2vw 0.4vw #fff