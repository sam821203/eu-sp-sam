// ==========================================================================
// Plugins
// ==========================================================================
// // @import vendors/animate
// @import vendors/style/swiper-slider-custom
@import vendors/style/swiper-safari-polyfill

// ==========================================================================
// first screen need
// ==========================================================================
// hero section
// @import utils/bg-decoration-instance/parallax/_parallax
@import event/1st/e-main/components/hero-section/_hero-section

// @import utils/bg-decoration-instance/css-firework-2/_css-firework-2

// ==========================================================================
// components
// ==========================================================================
// dynamic product 假宮格共用CSS
@import layout/dynamic-product/_dynamic-product.sass

// 一般components

@import event/1st/e-main/components/promo-event/_promo-event
// @import event/1st/e-main/components/daily-slider/_daily-slider
@import event/1st/e-main/components/dynamic-slider-w3m3/_dynamic-slider-w3m3
@import event/1st/e-main/components/dynamic-slider-w2m2/_dynamic-slider-w2m2
@import event/1st/e-main/components/event-w3m3/_event-w3m3
@import event/1st/e-main/components/dynamic-slider-w2m2-2/_dynamic-slider-w2m2-2
@import event/1st/e-main/components/event-w3m3-2/_event-w3m3-2

@import event/1st/e-main/components/bn-section/_bn-section
@import event/1st/e-main/components/tab-section/_tab-section
@import event/1st/e-main/components/bn-section-2/_bn-section-2
@import event/1st/e-main/components/daily-time/_daily-time
@import event/1st/e-main/components/bn-slider/_bn-slider
@import event/1st/e-main/components/promo-special/_promo-special
@import event/1st/e-main/components/bn-section-3/_bn-section-3

// ==========================================================================
// Page
// ==========================================================================
body
  +pos-set(relative)
  background-color: $main-e-background-color-1st
  overflow-x: hidden
  // height: 1000vh

  .decor__bg
    +pos-set(fixed, under, 0%, 0%)
    +bg-set(url(event/1st/e-main/pages/index/bg.jpg), 100%)
    +breakpoint-min($min-width-xl)
      +bg-set(url(event/1st/e-main/pages/index/bg-web.jpg), auto)
      background-position: 50%

  .decor__bg--light
    +pos-set(absolute, zero, 0%, 0%)
    display: none
    +size(100%, 120vh)
    +bg-set(url(event/1st/e-main/pages/index/decor-bottom-light.png), 100%)
    overflow: hidden 
    filter: grayscale(0.4) brightness(1)
    mix-blend-mode: overlay
    animation: light-grayscale 3s ease-in-out infinite both
    +breakpoint-min($min-width-xl)
      display: block
    img
      transform: scale(1.8) rotate(15deg)

  .decor__hyperspace
    +pos-set(absolute, zero, 0%, 0%)
    +size(100%, 120vw)
    text-align: center
    transform: translateY(-10%)
    overflow: hidden
    +breakpoint-min($min-width-xl)
      height: 120vh
    &::before
      content: ''
      display: inline-block
      height: 100%
      vertical-align: middle
    .hyperspace--scene
      position: relative
      display: inline-block
      vertical-align: middle
      perspective: 5px
      perspective-origin: 50% 50%
      .scene__wrap 
        +pos-set(absolute, zero, -500px, -500px)
        +size(1000px)
        will-change: transform
        transform-style: preserve-3d
        animation: hyperspace-running 12s infinite linear forwards
        .screen
          position: absolute
          +size(100%, 100vh)
          +bg-set(url(event/1st/e-main/components/hero-section/decor-light-bg.png), cover)
          opacity: 0
          overflow: hidden
          will-change: transform
          animation: hyperspace-fading 12s infinite linear
          +breakpoint-min($min-width-xl)
            background-image: url("event/1st/e-main/components/hero-section/decor-light-bg-web.png")

        &:nth-child(2)
          will-change: transform
          animation: hyperspace-running 12s infinite linear
          animation-delay: 6s
          .screen 
            animation-delay: 6s
      .screen--right
        transform: rotateY(90deg) translateZ(500px)
      .screen--left
        transform: rotateY(-90deg) translateZ(500px)
      .screen--top
        transform: rotateX(90deg) translateZ(500px)
      .screen--bottom
        transform: rotateX(-90deg) translateZ(500px)
      .screen--back
        transform: rotateX(180deg) translateZ(500px)

  .decor__fg
    +pos-set(absolute, zero, 0%, 0%)
    +bg-set(url(event/1st/e-main/pages/index/bg-top.png), 100%)
    +breakpoint-min($min-width-xl)
      +pos-set(absolute, zero, 0%, 0%)
      +bg-set(url(event/1st/e-main/pages/index/bg-top-web.png), auto)

  .decor__sky
    +pos-set(absolute, zero, 0%, 0%)
    +bg-set(url(event/1st/e-main/pages/index/bg-bottom.jpg), 100%)
    +breakpoint-min($min-width-xl)
      +bg-set(url(event/1st/e-main/pages/index/bg-bottom-web.jpg), auto)

// TODO: 修改EU nav佔位高度(影響logo距離上方高度，U每次要改)
.navRightBar
  height: 39px
  +breakpoint-min($min-width-xl)
    height: auto

.decoration--top,
.decor--top
  +pos-set(absolute)
  pointer-events: none
  +breakpoint-min($min-width-xl)
    width: auto

section:not(.note)
  // 有parallax scroll時圖層有relative就有預設z-index可能會遮到宮格，因此使用這個讓宮格也能有預設z-index
  +pos-set(relative)
  a
    display: block

@keyframes hyperspace-running
  0%
    transform: translateZ(-500px) rotate(0deg)
  100%
    transform: translateZ(500px) rotate(0deg)

@keyframes hyperspace-fading
  0%, 100%
    opacity: 0
  25%, 75%
    opacity: 1

@keyframes bg-scale-brightness
  0%, 100%
    transform: scale(1) rotate(0deg)
    filter: brightness(100%)
  50%
    transform: scale(1.4) rotate(3deg)
    filter: brightness(120%)

@keyframes light-grayscale
  0%, 100%
    filter: grayscale(0.4) brightness(1)
  50%
    filter: grayscale(0.1) brightness(1.05)

