// ==========================================================================
// Plugins
// ==========================================================================
// // @import vendors/animate
// @import vendors/style/swiper-slider-custom
@import vendors/style/swiper-safari-polyfill

// ==========================================================================
// first screen need
// ==========================================================================
// hero section
// @import utils/bg-decoration-instance/parallax/_parallax
@import event/1st/e-main/components/hero-section/_hero-section
  
// @import utils/bg-decoration-instance/css-firework-2/_css-firework-2

// ==========================================================================
// components
// ==========================================================================
// dynamic product 假宮格共用CSS
@import layout/dynamic-product/_dynamic-product.sass

// 一般components
@import event/1st/e-main/components/promo-section/_promo-section
@import event/1st/e-main/components/promo-slider-w3/_promo-slider-w3
@import event/1st/e-main/components/promo-slider-w2/_promo-slider-w2
@import event/1st/e-main/components/event-w3m3/_event-w3m3

// ==========================================================================
// Page
// ==========================================================================
body
  +pos-set(relative)
  background-color: $main-e-background-color-1st
  overflow-x: hidden

.decor__bg
  +pos-set(fixed, under, 0%, 0%)
  display: none
  height: 100vh !important
  opacity: 0
  transition: all 1s ease-out
  transform: translateY(45%) scale(1.5)
  +breakpoint-min($min-width-xl)
    +pos-set(fixed, under, 0%, 0%)
    display: block
    +bg-set(url(event/1st/e-main/pages/index/bg-web.jpg), auto)
  &.active
    opacity: 1
    transform: translateY(0%) scale(1)
    // +breakpoint-min($min-width-5xl)
    //   transform: translateY(15%) scale(1)

.decor__fg
  +pos-set(absolute, zero, 0%, 0%)
  height: 100vh !important
  +bg-set(url(event/1st/e-main/pages/index/bg-top.jpg), 100%)
  filter: brightness(105%)
  +breakpoint-min($min-width-xl)
    +pos-set(absolute, zero, 0%, 0%)
    +bg-set(url(event/1st/e-main/pages/index/bg-top-web.jpg), auto)
  .js-loading &
    animation: lighting-effect 1.8s 1.5s ease-in forwards infinite

.decor__stars
  position: absolute
  z-index: 0
  display: flex
  flex-direction: row
  align-items: center
  align-content: center
  justify-content: center
  width: 90%
  height: 60vh
  margin-top: 2%
  margin-left: 2%
  +breakpoint-min($min-width-xl)
    width: 100%
    height: 80vh
  .star
    position: absolute
    left: 50%
    top: 50%
    background: linear-gradient(45deg, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0))
    border-radius: 999px
    filter: drop-shadow(0 0 2px rgba(255, 255, 255, 1)) drop-shadow(0 0 6px rgba(255, 255, 255, .9)) drop-shadow(0 0 10px rgba(255, 255, 255, .7))
    transform: scale(0.3) translate(-50%, -50%)

    &::before
      content: ''
      position: absolute
      top: calc(50% - 1px)
      right: 0
      width: 30px
      height: 3px
      background: linear-gradient(-90deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, .5), rgba(255, 255, 255, 0))
      transform: translateX(50%) rotateZ(90deg)
      border-radius: 100%
      filter: drop-shadow(0 0 4px rgba(255, 255, 255, 1)) 

    &::after
      content: ''
      position: absolute
      top: calc(50% - 1px)
      right: 0
      width: 30px
      height: 3px
      background: linear-gradient(-45deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, .4), rgba(255, 255, 255, 0))
      transform: translateX(50%) rotateZ(90deg)
      border-radius: 100%
      transform: translateX(50%) rotateZ(0deg)

    &:nth-child(4n)
      display: none
      +breakpoint-min($min-width-xl)
        display: block
div
  .decor__people
    +pos-set(absolute, zero, 0%, 0%)
    +bg-set(url(event/1st/e-main/pages/index/bg-people.png), 100%)
    height: 100vh !important
    opacity: 0
    overflow: hidden
    transform-origin: bottom center
    transform: translate(0, 48px)
    +breakpoint-min($min-width-xl)
      top: 0
      +bg-set(url(event/1st/e-main/pages/index/bg-people-web.png), auto)
    .js-loading &
      animation: people-move-up 0.4s 1s ease-out 1 forwards, people-dancing 1.8s 1.5s forwards infinite
      +breakpoint-min($min-width-xl)
        animation: people-move-up 0.5s 1s ease-out 1 forwards, people-dancing-web 1.8s 1.5s forwards infinite

.shaking
  position: absolute
  height: 150vh !important
  .decor__stage
    +pos-set(absolute, zero, 0%, 0%)
    +bg-set(url(event/1st/e-main/pages/index/bg-stage.png), 100%)
    transform-origin: bottom center
    +breakpoint-min($min-width-xl)
      +pos-set(absolute, zero, 0%, 0%)
      +bg-set(url(event/1st/e-main/pages/index/bg-stage-web.png), auto)
    // .js-loading &
    //   animation: stageShaking 1.6s 2.4s forwards infinite

.decor__surprise
  +pos-set(absolute, zero, 0%, 0%)  
  width: 100%
  height: 60vh
  +bg-set(url(event/1st/e-main/pages/index/bg-surprise.png), 270%)
  opacity: 0
  transform-origin: center center
  animation: surprise-zoomIn .6s 1s ease-out 1 forwards
  +breakpoint-min($min-width-xl)
    height: 100vh
    background-size: auto

// TODO: 修改EU nav佔位高度(影響logo距離上方高度，U每次要改)
// .navRightBar
//   height: 39px
//   +breakpoint-min($min-width-xl)
//     height: auto

.decoration--top,
.decor--top
  +pos-set(absolute)
  pointer-events: none

section:not(.note)
  // 有parallax scroll時圖層有relative就有預設z-index可能會遮到宮格，因此使用這個讓宮格也能有預設z-index
  +pos-set(relative)
  a
    display: block

@keyframes stageShaking
  0%, 24%, 50%, 100%
    transform: scale(1) translateY(0px)
  12%, 36%
    transform: scale(1.002) translateY(0.2px)

@keyframes lighting-effect
  0%, 24%, 46%, 100%
    filter: brightness(105%)
  12%
    filter: brightness(130%)
  36%
    filter: brightness(135%)

@keyframes people-dancing-web
  0%, 24%, 46%, 100%
    transform: scale(1) translateY(0px)
  12%
    transform: scale(1.02) translateY(-7px)
  36%
    transform: scale(1.02) translateY(-9px)

@keyframes people-dancing
  0%, 24%, 46%, 100%
    transform: translateY(0px)
  12%
    transform: translateY(-12px)
  36%
    transform: translateY(-13px)

@keyframes people-move-up
  0%
    opacity: 0
    transform: translate(0, 48px)
  100%
    opacity: 1
    transform: translate(0px, 0)

@keyframes star-shine
  from
    transform: scale(0.4)
  50%
    transform: scale(1.6)
  to
    transform: scale(0.4)

@keyframes surprise-zoomIn
  0%
    opacity: 0
    transform: scale(0)
  100%
    opacity: 1
    transform: scale(1)