<!DOCTYPE html>
<html lang="zh-Hant-TW">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- reset.css 可移除換自己的 -->
    <link rel="stylesheet" type="text/css" href="reset.css">
    <link href="app-bundle.css" rel="stylesheet">
  </head>
  <body>
    <main class="sp__wrap">
      <header class="header__zone">
        <div class="layout--main"><a class="logo logo--e" href="https://www.etmall.com.tw/"><img src="logo.png" alt="東森購物"></a>
        </div>
      </header>
      <section class="hero__wrap">
        <div class="layout--main">
          <div class="hero__block">
            <div class="hero__box">
              <h1 class="hero__title hero__title--main" title="集點加價購"><img src="title.png" alt="集點加價購"></h1>
            </div>
            <div class="hero__info"><a href="javascript:void(0)" title="活動詳情"><img src="info-title.png" alt="活動詳情"></a></div>
            <div class="decoration__wrap">
              <div class="decoration__title"><img src="decoration-title-1.png" alt=""></div>
              <div class="decoration__title"><img src="decoration-title-2.png" alt=""></div>
            </div>
          </div>
        </div>
      </section>
      <nav class="nav__wrap">
        <div class="layout--main">
          <div class="nav__block">
            <ul>
              <li><a href="#loyaltyCard" title="我的集點卡"><img src="nav-menu-1.png" alt="我的集點卡"></a></li>
              <li><a href="#collectChange" title="集點換好禮"><img src="nav-menu-2.png" alt="集點換好禮"></a></li>
              <li><a href="#collectBuy" title="集點購好物"><img src="nav-menu-3.png" alt="集點購好物"></a></li>
            </ul>
          </div>
        </div>
      </nav>
      <section class="loyalty__wrap">
        <div class="layout--main">
          <div class="loyalty__block">
            <div class="card__wrap"><img src="loyalty-card.png" alt="我的集點卡"></div>
            <div class="point__wrap"><span id="loyaltyPoint" data-src="CustPoint">9999</span></div>
          </div>
        </div>
      </section>
      <section class="exchange__wrap">
        <div class="layout--main">
          <div class="exchange__block">
            <div class="decoration__top"><img src="decoration-exchange-top.png" alt=""></div>
            <div class="exchange__box">
              <ul>

                <li>
                  <div class="item__wrap">
                    <div class="item__box">
                      <div class="item__pic"><img data-src="Gift_Image_1" src="" alt=""></div>
                      <div class="item__name">
                        <div class="name__box"><span data-src="Gift_Name_1"></span></div>
                      </div>
                    </div>
                    <div class="cta__box">
                      <div class="item__info"><a href="javascript:void(0)" title="詳情"><img src="btn-exchange-info.png" alt="詳情"></a></div>
                      <div class="item__cta">
                        <div class="cta cta--active"><a href="javascript:void(0)" title="立刻登記換">
                            <div class="btn__wrap">
                              <div class="point__wrap"><span data-src="Gift_UsePoint_1">88</span></div>
                              <div class="btn__pic"><img src="btn-exchange-active.png" alt="立刻登記換"></div>
                            </div></a></div>
                        <div class="cta cta--closed" title="登記完畢"><img src="btn-exchange-closed.png" alt="登記完畢"></div>
                      </div>
                    </div>
                  </div>
                </li>

                <li>
                  <div class="item__wrap">
                    <div class="item__box">
                      <div class="item__pic"><img data-src="Gift_Image_2" src="" alt=""></div>
                      <div class="item__name">
                        <div class="name__box font--small"><span data-src="Gift_Name_2"></span></div>
                      </div>
                    </div>
                    <div class="cta__box">
                      <div class="item__info"><a href="javascript:void(0)" title="詳情"><img src="btn-exchange-info.png" alt="詳情"></a></div>
                      <div class="item__cta">
                        <div class="cta--active"><a href="javascript:void(0)" title="立刻登記換">
                            <div class="btn__wrap">
                              <div class="point__wrap"><span data-src="Gift_UsePoint_2"></span></div>
                              <div class="btn__pic"><img src="btn-exchange-active.png" alt="立刻登記換"></div>
                            </div></a></div>
                        <div class="cta--closed" title="登記完畢"><img src="btn-exchange-closed.png" alt="登記完畢"></div>
                      </div>
                    </div>
                  </div>
                </li>
                <li class="active">
                  <div class="item__wrap">
                    <div class="item__box">
                      <div class="item__pic"><img data-src="Gift_Image_3" src="" alt=""></div>
                      <div class="item__name">
                        <div class="name__box"><span data-src="Gift_Name_3"></span></div>
                      </div>
                    </div>
                    <div class="cta__box">
                      <div class="item__info"><a href="javascript:void(0)" title="詳情"><img src="btn-exchange-info.png" alt="詳情"></a></div>
                      <div class="item__cta">
                        <div class="cta--active"><a href="javascript:void(0)" title="立刻登記換">
                            <div class="btn__wrap">
                              <div class="point__wrap"><span data-src="Gift_UsePoint_3"></span></div>
                              <div class="btn__pic"><img src="btn-exchange-active.png" alt="立刻登記換"></div>
                            </div></a></div>
                        <div class="cta--closed" title="登記完畢"><img src="btn-exchange-closed.png" alt="登記完畢"></div>
                      </div>
                    </div>
                  </div>
                </li>
                <li>
                  <div class="item__wrap">
                    <div class="item__box">
                      <div class="item__pic"><img data-src="Gift_Image_4" src="" alt=""></div>
                      <div class="item__name">
                        <div class="name__box font--small"><span data-src="Gift_Name_4"></span></div>
                      </div>
                    </div>
                    <div class="cta__box">
                      <div class="item__info"><a href="javascript:void(0)" title="詳情"><img src="btn-exchange-info.png" alt="詳情"></a></div>
                      <div class="item__cta">
                        <div class="cta--active"><a href="javascript:void(0)" title="立刻登記換">
                            <div class="btn__wrap">
                              <div class="point__wrap"><span data-src="Gift_UsePoint_4"></span></div>
                              <div class="btn__pic"><img src="btn-exchange-active.png" alt="立刻登記換"></div>
                            </div></a></div>
                        <div class="cta--closed" title="登記完畢"><img src="btn-exchange-closed.png" alt="登記完畢"></div>
                      </div>
                    </div>
                  </div>
                </li>
                <li class="active">
                  <div class="item__wrap">
                    <div class="item__box">
                      <div class="item__pic"><img data-src="Gift_Image_5" src="" alt=""></div>
                      <div class="item__name">
                        <div class="name__box"><span data-src="Gift_Name_5"></span></div>
                      </div>
                    </div>
                    <div class="cta__box">
                      <div class="item__info"><a href="javascript:void(0)" title="詳情"><img src="btn-exchange-info.png" alt="詳情"></a></div>
                      <div class="item__cta">
                        <div class="cta--active"><a href="javascript:void(0)" title="立刻登記換">
                            <div class="btn__wrap">
                              <div class="point__wrap"><span data-src="Gift_UsePoint_5"></span></div>
                              <div class="btn__pic"><img src="btn-exchange-active.png" alt="立刻登記換"></div>
                            </div></a></div>
                        <div class="cta--closed" title="登記完畢"><img src="btn-exchange-closed.png" alt="登記完畢"></div>
                      </div>
                    </div>
                  </div>
                </li>
                <li>
                  <div class="item__wrap">
                    <div class="item__box">
                      <div class="item__pic"><img data-src="Gift_Image_6" src="" alt=""></div>
                      <div class="item__name">
                        <div class="name__box font--small"><span data-src="Gift_Name_6"></span></div>
                      </div>
                    </div>
                    <div class="cta__box">
                      <div class="item__info"><a href="javascript:void(0)" title="詳情"><img src="btn-exchange-info.png" alt="詳情"></a></div>
                      <div class="item__cta">
                        <div class="cta--active"><a href="javascript:void(0)" title="立刻登記換">
                            <div class="btn__wrap">
                              <div class="point__wrap"><span data-src="Gift_UsePoint_6"></span></div>
                              <div class="btn__pic"><img src="btn-exchange-active.png" alt="立刻登記換"></div>
                            </div></a></div>
                        <div class="cta--closed" title="登記完畢"><img src="btn-exchange-closed.png" alt="登記完畢"></div>
                      </div>
                    </div>
                  </div>
                </li>
                <li class="active">
                  <div class="item__wrap">
                    <div class="item__box">
                      <div class="item__pic"><img data-src="Gift_Image_7" src="" alt=""></div>
                      <div class="item__name">
                        <div class="name__box"><span data-src="Gift_Name_7"></span></div>
                      </div>
                    </div>
                    <div class="cta__box">
                      <div class="item__info"><a href="javascript:void(0)" title="詳情"><img src="btn-exchange-info.png" alt="詳情"></a></div>
                      <div class="item__cta">
                        <div class="cta--active"><a href="javascript:void(0)" title="立刻登記換">
                            <div class="btn__wrap">
                              <div class="point__wrap"><span data-src="Gift_UsePoint_7"></span></div>
                              <div class="btn__pic"><img src="btn-exchange-active.png" alt="立刻登記換"></div>
                            </div></a></div>
                        <div class="cta--closed" title="登記完畢"><img src="btn-exchange-closed.png" alt="登記完畢"></div>
                      </div>
                    </div>
                  </div>
                </li>
                <li>
                  <div class="item__wrap">
                    <div class="item__box">
                      <div class="item__pic"><img data-src="Gift_Image_8" src="" alt=""></div>
                      <div class="item__name">
                        <div class="name__box font--small"><span data-src="Gift_Name_8"></span></div>
                      </div>
                    </div>
                    <div class="cta__box">
                      <div class="item__info"><a href="javascript:void(0)" title="詳情"><img src="btn-exchange-info.png" alt="詳情"></a></div>
                      <div class="item__cta">
                        <div class="cta--active"><a href="javascript:void(0)" title="立刻登記換">
                            <div class="btn__wrap">
                              <div class="point__wrap"><span data-src="Gift_UsePoint_8"></span></div>
                              <div class="btn__pic"><img src="btn-exchange-active.png" alt="立刻登記換"></div>
                            </div></a></div>
                        <div class="cta--closed" title="登記完畢"><img src="btn-exchange-closed.png" alt="登記完畢"></div>
                      </div>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
            <div class="decoration__bottom"><img src="decoration-exchange-bottom.png" alt=""></div>
          </div>
        </div>
      </section>
      <section class="buy__wrap m-bottom--sm">
        <div class="layout--main">
          <div class="buy__block">
            <div class="decoration__top"><img src="decoration-buy-top.png" alt=""></div>
            <div class="buy__box">
              <ul>
                <li class="active" id="1">
                  <div class="item__wrap">
                    <div class="info__box">
                      <div class="item__pic"><img data-src="Jajago_Image_1" src="" alt=""></div>
                      <div class="item__info"><a href="javascript:void(0)" title="商品介紹" data-src="Jajago_Link_1"><img src="btn-buy-info.png" alt="商品介紹"></a></div>
                    </div>
                    <div class="cta__box">
                      <div class="item__name">
                        <div class="name__promo"><span data-src="Jajago_UsePoint_1"></span></div>
                        <div class="name__box"><span data-src="Jajago_Name_1"></span></div>
                      </div>
                      <div class="item__value"><span>尚餘<span data-src="Jajago_Amount_1"></span></span>組</div>
                      <div class="item__cta">
                        <div class="cta--active"><a href="javascript:void(0)" title="立刻登記購" data-src="Jajago_Id_1">
                            <div class="btn__wrap"><img src="btn-buy-active.png" alt="立刻登記購"></div></a></div>
                        <div class="cta--closed" title="登記完畢"><img src="btn-buy-closed.png" alt="登記完畢"></div>
                      </div>
                    </div>
                    <div class="rule__box">將於<text data-src="NotificationTime"></text>前以我的禮物盒推廣通知asdasdasdasdasdasdasd</div>
                  </div>
                </li>
                <li>
                   <div class="item__wrap">
                    <div class="info__box">
                      <div class="item__pic"><img data-src="Jajago_Image_2" src="" alt=""></div>
                      <div class="item__info"><a href="javascript:void(0)" title="商品介紹" data-src="Jajago_Link_2"><img src="btn-buy-info.png" alt="商品介紹"></a></div>
                    </div>
                    <div class="cta__box">
                      <div class="item__name">
                        <div class="name__promo"><span data-src="Jajago_UsePoint_2"></span></div>
                        <div class="name__box"><span data-src="Jajago_Name_2"></span></div>
                      </div>
                      <div class="item__value"><span>尚餘<span data-src="Jajago_Amount_2"></span></span>組</div>
                      <div class="item__cta">
                        <div class="cta--active"><a href="javascript:void(0)" title="立刻登記購">
                            <div class="btn__wrap"><img src="btn-buy-active.png" alt="立刻登記購"></div></a></div>
                        <div class="cta--closed" title="登記完畢"><img src="btn-buy-closed.png" alt="登記完畢"></div>
                      </div>
                    </div>
                    <div class="rule__box">將於<text data-src="NotificationTime"></text>前以我的禮物盒推廣通知asdasdasdasdasdasdasd</span></div>
                  </div>
                </li>
                <li class="active">
                  <div class="item__wrap">
                    <div class="info__box">
                      <div class="item__pic"><img data-src="Jajago_Image_3" src="" alt=""></div>
                      <div class="item__info"><a href="javascript:void(0)" title="商品介紹" data-src="Jajago_Link_3"><img src="btn-buy-info.png" alt="商品介紹"></a></div>
                    </div>
                    <div class="cta__box">
                      <div class="item__name">
                        <div class="name__promo"><span data-src="Jajago_UsePoint_3"></span></div>
                        <div class="name__box"><span data-src="Jajago_Name_3"></span></div>
                      </div>
                      <div class="item__value"><span>尚餘<span data-src="Jajago_Amount_3"></span></span>組</div>
                      <div class="item__cta">
                        <div class="cta--active"><a href="javascript:void(0)" title="立刻登記購">
                            <div class="btn__wrap"><img src="btn-buy-active.png" alt="立刻登記購"></div></a></div>
                        <div class="cta--closed" title="登記完畢"><img src="btn-buy-closed.png" alt="登記完畢"></div>
                      </div>
                    </div>
                    <div class="rule__box">將於<text data-src="NotificationTime"></text>前以我的禮物盒推廣通知asdasdasdasdasdasdasd</span></div>
                  </div>
                </li>
                <li>
                  <div class="item__wrap">
                    <div class="info__box">
                      <div class="item__pic"><img data-src="Jajago_Image_4" src="" alt=""></div>
                      <div class="item__info"><a href="javascript:void(0)" title="商品介紹" data-src="Jajago_Link_4"><img src="btn-buy-info.png" alt="商品介紹"></a></div>
                    </div>
                    <div class="cta__box">
                      <div class="item__name">
                        <div class="name__promo"><span data-src="Jajago_UsePoint_4"></span></div>
                        <div class="name__box"><span data-src="Jajago_Name_4"></span></div>
                      </div>
                      <div class="item__value"><span>尚餘<span data-src="Jajago_Amount_4"></span></span>組</div>
                      <div class="item__cta">
                        <div class="cta--active"><a href="javascript:void(0)" title="立刻登記購">
                            <div class="btn__wrap"><img src="btn-buy-active.png" alt="立刻登記購"></div></a></div>
                        <div class="cta--closed" title="登記完畢"><img src="btn-buy-closed.png" alt="登記完畢"></div>
                      </div>
                    </div>
                    <div class="rule__box">將於<text data-src="NotificationTime"></text>前以我的禮物盒推廣通知asdasdasdasdasdasdasd</span></div>
                  </div>
                </li>
                <li class="active">
                  <div class="item__wrap">
                    <div class="info__box">
                      <div class="item__pic"><img data-src="Jajago_Image_5" src="" alt=""></div>
                      <div class="item__info"><a href="javascript:void(0)" title="商品介紹" data-src="Jajago_Link_5"><img src="btn-buy-info.png" alt="商品介紹"></a></div>
                    </div>
                    <div class="cta__box">
                      <div class="item__name">
                        <div class="name__promo"><span data-src="Jajago_UsePoint_5"></span></div>
                        <div class="name__box"><span data-src="Jajago_Name_5"></span></div>
                      </div>
                      <div class="item__value"><span>尚餘<span data-src="Jajago_Amount_5"></span></span>組</div>
                      <div class="item__cta">
                        <div class="cta--active"><a href="javascript:void(0)" title="立刻登記購">
                            <div class="btn__wrap"><img src="btn-buy-active.png" alt="立刻登記購"></div></a></div>
                        <div class="cta--closed" title="登記完畢"><img src="btn-buy-closed.png" alt="登記完畢"></div>
                      </div>
                    </div>
                    <div class="rule__box">將於<text data-src="NotificationTime"></text>前以我的禮物盒推廣通知asdasdasdasdasdasdasd</span></div>
                  </div>
                </li>
                <li>
                  <div class="item__wrap">
                    <div class="info__box">
                      <div class="item__pic"><img data-src="Jajago_Image_6" src="" alt=""></div>
                      <div class="item__info"><a href="javascript:void(0)" title="商品介紹" data-src="Jajago_Link_6"><img src="btn-buy-info.png" alt="商品介紹"></a></div>
                    </div>
                    <div class="cta__box">
                      <div class="item__name">
                        <div class="name__promo"><span data-src="Jajago_UsePoint_6"></span></div>
                        <div class="name__box"><span data-src="Jajago_Name_6"></span></div>
                      </div>
                      <div class="item__value"><span>尚餘<span data-src="Jajago_Amount_6"></span></span>組</div>
                      <div class="item__cta">
                        <div class="cta--active"><a href="javascript:void(0)" title="立刻登記購">
                            <div class="btn__wrap"><img src="btn-buy-active.png" alt="立刻登記購"></div></a></div>
                        <div class="cta--closed" title="登記完畢"><img src="btn-buy-closed.png" alt="登記完畢"></div>
                      </div>
                    </div>
                    <div class="rule__box">將於<text data-src="NotificationTime"></text>前以我的禮物盒推廣通知asdasdasdasdasdasdasd</span></div>
                  </div>
                </li>
                <li class="active">
                  <div class="item__wrap">
                    <div class="info__box">
                      <div class="item__pic"><img data-src="Jajago_Image_7" src="" alt=""></div>
                      <div class="item__info"><a href="javascript:void(0)" title="商品介紹" data-src="Jajago_Link_7"><img src="btn-buy-info.png" alt="商品介紹"></a></div>
                    </div>
                    <div class="cta__box">
                      <div class="item__name">
                        <div class="name__promo"><span data-src="Jajago_UsePoint_7"></span></div>
                        <div class="name__box"><span data-src="Jajago_Name_7"></span></div>
                      </div>
                      <div class="item__value"><span>尚餘<span data-src="Jajago_Amount_7"></span></span>組</div>
                      <div class="item__cta">
                        <div class="cta--active"><a href="javascript:void(0)" title="立刻登記購">
                            <div class="btn__wrap"><img src="btn-buy-active.png" alt="立刻登記購"></div></a></div>
                        <div class="cta--closed" title="登記完畢"><img src="btn-buy-closed.png" alt="登記完畢"></div>
                      </div>
                    </div>
                    <div class="rule__box">將於<text data-src="NotificationTime"></text>前以我的禮物盒推廣通知asdasdasdasdasdasdasd</span></div>
                  </div>
                </li>
                <li>
                  <div class="item__wrap">
                    <div class="info__box">
                      <div class="item__pic"><img data-src="Jajago_Image_8" src="" alt=""></div>
                      <div class="item__info"><a href="javascript:void(0)" title="商品介紹" data-src="Jajago_Link_8"><img src="btn-buy-info.png" alt="商品介紹"></a></div>
                    </div>
                    <div class="cta__box">
                      <div class="item__name">
                        <div class="name__promo"><span data-src="Jajago_UsePoint_8"></span></div>
                        <div class="name__box"><span data-src="Jajago_Name_8"></span></div>
                      </div>
                      <div class="item__value"><span>尚餘<span data-src="Jajago_Amount_8"></span></span>組</div>
                      <div class="item__cta">
                        <div class="cta--active"><a href="javascript:void(0)" title="立刻登記購">
                            <div class="btn__wrap"><img src="btn-buy-active.png" alt="立刻登記購"></div></a></div>
                        <div class="cta--closed" title="登記完畢"><img src="btn-buy-closed.png" alt="登記完畢"></div>
                      </div>
                    </div>
                    <div class="rule__box">將於<text data-src="NotificationTime"></text>前以我的禮物盒推廣通知asdasdasdasdasdasdasd</span></div>
                  </div>
                </li>
              </ul>
            </div>
            <div class="decoration__bottom"><img src="decoration-buy-bottom.png" alt=""></div>
          </div>
        </div>
      </section>
    </main>

    <!-- Modal -->
    <div class="modal">
      <div class="modal__overlay"></div>
      <form class="dialog__block">
          <div class="area-title">
              <p>商品詳情</p>
          </div>
          <div class="scroll-section">      
              <div class="area-content">
                  <div class="area-subtitle"></div>
                  <div class="area-detail"></div>
              </div>          
          </div>
          <div class="area-clickBtn normal">
              <button type="button" class="n-btn">確定</button>
              <button type="button" class="n-btn n-btn--cancel">取消</button>
          </div>
      </form>
    </div>
    <!-- Modal End-->

  <script type="text/javascript" src="app-bundle.js"></script></body>
  <script type="text/javascript">
    var data = {
	    custPoint : 888,
        startTime: '',
        endTime: '',
        orderStartTime: '',
        orderEndTime: '',
        notificationTime: '10/30(五) 18:00',		
        gifts: [
            {
                Id: 1,
                Name: '9999 枚東森幣',
                UsePoint: 8,
                Amount: 0,
                Image: 'item-exchange-1.png',
                Detail: 'aaaa'
            },
            {
                Id: 2,
                Name: 'LINE POINT 150點',
                UsePoint: 88,
                Amount: 0,
                Image: 'item-exchange-2.png',
                Detail: 'aaaa'
            },
            {
                Id: 3,
                Name: '大字能16個英文字',
                UsePoint: 38,
                Amount: 0,
                Image: 'item-exchange-3.png',
                Detail: 'aaaa'
            },
            {
                Id: 4,
                Name: '小字20個英文超過切掉',
                UsePoint: 48,
                Amount: 0,
                Image: 'item-exchange-4.png',
                Detail: 'aaaa'
            },
            {
                Id: 5,
                Name: '9999 枚東森幣',
                UsePoint: 52,
                Amount: 0,
                Image: 'item-exchange-5.png',
                Detail: 'aaaa'
            },
            {
                Id: 6,
                Name: 'LINE POINT 150點',
                UsePoint: 63,
                Amount: 0,
                Image: 'item-exchange-6.png',
                Detail: 'aaaa'
            },
            {
                Id: 7,
                Name: '大字能16個英文字',
                UsePoint: 72,
                Amount: 0,
                Image: 'item-exchange-7.png',
                Detail: 'aaaa'
            }
            // {
            //   GoodID: 8,
            //   Name: '小字20個英文超過切掉',
            //   UsePoint: 81,
            //   Amount: 0,
            //   Image: 'item-exchange-8.png',
            //   Detail: 'aaaa'
            // },
        ],
        jajagos: [
            {
                Id: 2776984,
                Name: '11個中文超過的話就切掉了喔喔喔喔',
                UsePoint: '99點+9999',
                Amount: 999,
                Image: 'https://media.etmall.com.tw/nximg/002776/2776984/2776984-1_xl.jpg',
                Link: 'https://www.etmall.com.tw/i/2776984'
            },
            {
                Id: 2776985,
                Name: '9999xzcasdcassdcadadasdasdasd枚東森幣<',
                UsePoint: '99點+9999',
                Amount: 999,
                Image: 'https://media.etmall.com.tw/nximg/002776/2776984/2776984-1_xl.jpg',
                Link: 'https://www.etmall.com.tw/i/2776984'
            },
            {
                Id: 2776986,
                Name: '9999xzcasdcassdcadadasdasdasd枚東森幣',
                UsePoint: '99點+9999',
                Amount: 999,
                Image: 'https://media.etmall.com.tw/nximg/002776/2776984/2776984-1_xl.jpg',
                Link: 'https://www.etmall.com.tw/i/2776984'
            },
            {
                Id: 2776987,
                Name: '9999xzcasdcassdcadadasdasdasd枚東森幣',
                UsePoint: '99點+9999',
                Amount: 80,
                Image: 'https://media.etmall.com.tw/nximg/002776/2776984/2776984-1_xl.jpg',
                Link: 'https://www.etmall.com.tw/i/2776984'
            },
            {
                Id: 2776988,
                Name: '9999xzcasdcassdcadadasdasdasd枚東森幣',
                UsePoint: '99點+9999',
                Amount: 100,
                Image: 'https://media.etmall.com.tw/nximg/002776/2776984/2776984-1_xl.jpg',
                Link: 'https://www.etmall.com.tw/i/2776984'
            },
            {
                Id: 2776989,
                Name: '9999xzcasdcassdcadadasdasdasd枚東森幣',
                UsePoint: '99點+9999',
                Amount: 63,
                Image: 'https://media.etmall.com.tw/nximg/002776/2776984/2776984-1_xl.jpg',
                Link: 'https://www.etmall.com.tw/i/2776984'
            },
            {
                Id: 2776990,
                Name: '9999xzcasdcassdcadadasdasdasd枚東森幣',
                UsePoint: '99點+9999',
                Amount: 15,
                Image: 'https://media.etmall.com.tw/nximg/002776/2776984/2776984-1_xl.jpg',
                Link: 'https://www.etmall.com.tw/i/2776984'
            },
            {
                Id: 2776991,
                Name: '9999xzcasdcassdcadadasdasdasd枚東森幣',
                UsePoint: '99點+9999',
                Amount: 45,
                Image: 'https://media.etmall.com.tw/nximg/002776/2776984/2776984-1_xl.jpg',
                Link: 'https://www.etmall.com.tw/i/2776984'
            }
            // {
            //   GoodID: 8,
            //   Name: '小字20個英文超過切掉',
            //   UsePoint: 81,
            //   Amount: 0,
            //   Image: 'item-exchange-8.png',
            //   Detail: 'aaaa'
            // },
        ]
    }

    // 換好禮
    data.gifts.forEach(function (gift, idx) {
        const { Id } = gift
        Object.keys(gift).forEach(function (name) {
            var dom = document.querySelector(`[data-src='Gift_${name}_${idx + 1}']`)
            if (dom) {
                if (dom.closest('.cta__box')) {
                    dom.closest('.cta__box').dataset['type'] = 'Gift'
                    dom.closest('.cta__box').dataset['Id'] = Id
                }

                if (dom.tagName == 'IMG') {
                    dom.src = gift[name]
                    dom.dataset.index = Id
                } else {
                    dom.innerText = gift[name]
                }
            }
        })
    })

    // 購好物
    data.jajagos.forEach(function (jajago, idx) {
        const { Id } = jajago
        Object.keys(jajago).forEach(function (name) {
            var dom = document.querySelector(`[data-src='Jajago_${name}_${idx + 1}']`)
            if (!dom) return
            if (dom.closest('.cta__box')) {
                dom.closest('.cta__box').dataset['type'] = 'Jajago'
                dom.closest('.cta__box').dataset['Id'] = Id
            }
            switch (dom.tagName) {
                case 'IMG':
                    dom.src = jajago[name]
                    dom.dataset.index = Id
                    break

                case 'A':
                    if (name !== 'Id') {
                        dom.href = jajago[name]
                        dom.target = '_blank'
                    }
                    break

                default:
                    dom.innerText = jajago[name]
            }
        })
    })
	

    document.querySelector(`[data-src='CustPoint']`).innerText = data.custPoint
    document.querySelectorAll(`[data-src='NotificationTime']`).forEach(ele => (ele.innerText = data.notificationTime))

    /* Setup Listener */

    // 詳情顯示彈窗
    document.querySelectorAll('.item__info').forEach(el => {
        el.addEventListener('click', function (el) {
            const parnetNode = el.target.closest('.cta__box')

            if (parnetNode) {
              const type = parnetNode.dataset['type']
              const Id = parnetNode.dataset['Id']
              const selectedData = data.gifts.find(gift => gift.Id == Id)
  
              if (selectedData) {
                  onShowModal({
                      title: '商品詳情',
                      subtitle: selectedData.Name,
                      detail:
                          '<hr>完成『登記換』者，將於2020/10/30 18:00前以我的禮物盒推播通知。<br>東森幣效期：2021/1/30 23:59。<br>使用東森幣注意事項請見：會員＞幫助中心＞常見問題＞東森幣說明',
                      btnCallback: () => {}
                  })
              }
            }
        })
    })

    // 登記換 觸發事件
    document.querySelectorAll('.cta--active').forEach(el => {
        // var isLogin = Math.random() > 0.5

        el.addEventListener('click', function (el) {
            const parnetNode = el.target.closest('.cta__box')
            let type
            let Id
            let selectedData
            if (parnetNode) {
                type = parnetNode.dataset['type']
                Id = parnetNode.dataset['Id']
            }

            switch (type) {
              case 'Gift':
                  selectedData = data.gifts.find(gift => gift.Id == Id)
                  break
              case 'Jajago':
                  selectedData = data.jajagos.find(jajago => jajago.Id == Id)
                  break
            }

            if (true) {
                if (selectedData) {
                    onShowModal({
                        title: `請確認是否使用${selectedData.UsePoint}點登記購「${selectedData.Name}」，一經確認後，立即扣除，無法取消返還`,
                        showCancelBtn: true,
                        btnCallback: () => {}
                    })
                }
            } else {
                onShowModal({
                    title: '請先登入會員',
                    showCancelBtn: false,
                    btnCallback: () => {
                        //document.location.href = '@ViewBag.LoginUrl'
                    }
                })
            }
        })
    })

    // 關閉彈窗按鈕
    document.querySelector('.n-btn--cancel').addEventListener('click', onCloseModal)

    function onShowModal({ title = '', subtitle = '', detail = '', showCancelBtn = false, btnCallback }) {
        document.querySelector('.area-title').children[0].innerHTML = title
        document.querySelector('.area-subtitle').innerHTML = subtitle
        document.querySelector('.area-detail').innerHTML = detail

        if (!subtitle && !detail) {
            document.querySelector('.scroll-section').style.display = 'none'
        }

        // 顯示Modal
        document.querySelector('.modal').classList.add('active')

        // 鎖住滾動
        document.body.classList.add('modal-on')

        document.querySelector('.n-btn.n-btn--cancel').style.display = showCancelBtn ? 'inline-block' : 'none'

        document.querySelector('.n-btn').addEventListener('click', onCloseModal)

        if (btnCallback) {
            document.querySelector('.n-btn').addEventListener('click', btnCallback)
        }
    }

    // 關閉彈窗
    function onCloseModal() {
        document.querySelector('.scroll-section').style.display = 'block'
        document.querySelector('.modal').classList.remove('active')
        document.body.classList.remove('modal-on')
    }


  </script>

  <style>
  .modal-on {
    overflow: hidden;
  }
  .modal {
      width: 100%;
      height: 100vh;
      position: fixed;
      z-index: 9000;
      top:0;
      bottom:0;
      left:0;
      right:0;
      display: none;
  }

  .modal.active {
      display:block;
  }

  .modal__overlay {
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      border: none;
      position: absolute;
      top: 0;
      left: 0;
  }

  .modal .dialog__block {
      color: #000;
      background-color: #FFFFFF;
      text-align: left;
      z-index: 2;
      position: relative;
      margin: 0 auto;
      width: 500px;
      max-width: 100%;
      top: 50%;
      transform: translateY(-50%);
  }

  .modal .dialog__block .scroll-section{
      max-height: calc(70vh - 140px);
      overflow-y: auto;
      min-height: 60px;
  }

  .modal .area-content {
      font-size: 20px;
      padding: 9px 15px;
  }

  .modal .area-content hr{
      height: 2px;
      border: 0;
      background-color: #67648c;
      width: 95%;
  }

  .modal .area-title {
      text-align: center;
      font-size: 16px;
      padding: 9px 15px;
  }

  .modal .area-title p{
      margin: 0 6px;
  }

  .modal .area-subtitle {
      text-align: center;
  }

  .modal .area-clickBtn {
      padding: 15px;
      border-top: 1px solid #ECECEC;
      background-color: #F6F6F6;
      text-align: center;
  }

  .modal .area-clickBtn .n-btn{
      padding: 10px 20px;
      border: 1px solid transparent;
      color: #fff;
      background-color: #cc1e05;
      border-radius: 2px;
      cursor: pointer;
  }

  .modal .area-clickBtn .n-btn.n-btn--cancel{
    background-color: #fff;
    border: 1px solid #5d5d5d;
    color: #5d5d5d;
    border-radius: 2px;
  }

  .modal .area-clickBtn .n-btn:hover{
      background-color: #a91300;
  }

  .modal .area-clickBtn .n-btn.n-btn--cancel:hover{
    background-color: rgba(50,50,50,.1);
    color: #5d5d5d;
  }

  .modal .area-clickBtn .n-btn:focus{
      outline: 0;
  }
  </style>
</html>